<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ulrika & Elias - VÃ¥rt BrÃ¶llop</title>
    <link rel="stylesheet" href="styles.css?v=61">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- LÃ¶senordsskydd -->
    <script>
        // Kontrollera om anvÃ¤ndaren Ã¤r inloggad
        if (localStorage.getItem('weddingAccess') !== 'true') {
            window.location.href = 'index.html';
        }
        
        function logout() {
            if (confirm('Ã„r du sÃ¤ker pÃ¥ att du vill logga ut?')) {
                localStorage.removeItem('weddingAccess');
                window.location.href = 'index.html';
            }
        }
    </script>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#home" class="nav-logo">
                <span class="home-icon">âŒ‚</span>
            </a>
            <div class="mobile-menu-btn" onclick="toggleMobileMenu()" style="user-select: none; -webkit-tap-highlight-color: transparent; touch-action: manipulation; z-index: 9999; position: relative;">â‰¡</div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home">Hem</a></li>
                <li><a href="#details">Information</a></li>
                <li><a href="#rsvp">AnmÃ¤lan</a></li>
                <li><a href="#gallery">Galleri</a></li>
                <li><a href="#" id="logoutBtn" style="color: #61796F;" onclick="logout()">Logga ut</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">ULRIKA & ELIAS</h1>
            <p class="hero-date">16 maj 2026</p>
            <p class="hero-location">Grytsbergs sÃ¤teri, StjÃ¤rnhov</p>
        </div>
        <div class="hero-image">
            <!-- Er fÃ¶rlovningsbild -->
            <img src="images/IMG_1480.jpg" alt="Ulrika & Elias FÃ¶rlovningsfoto">
        </div>
    </section>

    <!-- Wedding Details Section -->
    <section id="details" class="details">
        <div class="container">
            <h2>BrÃ¶llopsinformation</h2>
            <div class="details-grid">
                <div class="detail-card">
                    <div class="detail-icon"></div>
                    <h3>Vigsel</h3>
                    <p><strong>Tid:</strong> 16:00</p>
                    <p><strong>Plats:</strong> Gryts kyrka, StjÃ¤rnhov</p>
                </div>
                
                <div class="detail-card">
                    <div class="detail-icon"></div>
                    <h3>Mingel och fest </h3>
                    <p><strong>Plats:</strong> Grytsbergs SÃ¤teri (2 minuter frÃ¥n kyrkan)</p>
                    <p><strong>KlÃ¤dkod:</strong> MÃ¶rk kostym</p>
                </div>
                
                <div class="detail-card">
                    <div class="detail-icon"></div>
                    <h3>Ã–vernattning</h3>
                    <p>Grytsbergs SÃ¤teri</p>
                    <p>950 kr/natt per person</p>
                    <p>Frukost ingÃ¥r!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- RSVP Section -->
    <section id="rsvp" class="rsvp">
        <div class="container">
            <h2>AnmÃ¤lan</h2>
            <p class="rsvp-intro">Vi hoppas att ni kan fira med oss! VÃ¤nligen svara senast 1 mars.</p>
            <div class="google-form-container">
                <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSc48JjXu05rYcY7ap7SfK5tcn2PpqQTwci5NwwKZgnJD-0Lcw/viewform?embedded=true" width="100%" height="1200" frameborder="0" marginheight="0" marginwidth="0" scrolling="no" id="googleForm">LÃ¤ser in â€¦</iframe>
            </div>
        </div>
    </section>







    <!-- Couple Section - HIDDEN FOR NOW -->
    <section id="couple" class="couple" style="display: none;">
        <div class="container">
            <h2>Brudparet</h2>
            <div class="pokemon-cards">
                <div class="pokemon-card groom-card">
                    <div class="card-header">
                        <h3>Sulan</h3>
                        <span class="hp">HP 100</span>
                    </div>
                    <div class="card-image">
                        <img src="images/elias.jpg" alt="Elias">
                    </div>
                    <div class="card-description">
                        <p><em>"Klassisk lillebror frÃ¥n Mariefred, spelar fotboll och Wordfeud och Ã¤r alltid Ã¶ppen fÃ¶r att kolla pÃ¥ film eller spela sÃ¤llskapsspel.</em></p>
                    </div>
                    <div class="card-info">
                        <div class="pokemon-type">
                            <span class="type-badge groom-type">Brudgum</span>
                        </div>
                        <div class="pokemon-stats">
                            <div class="stat">
                                <span class="stat-name">Snooza</span>
                                <span class="stat-value">â˜…â˜…â˜…â˜…â˜…</span>
                            </div>
                            <div class="stat">
                                <span class="stat-name">Luftgitarr</span>
                                <span class="stat-value">â˜…â˜…â˜…â˜…â˜†</span>
                            </div>
                            <div class="stat">
                                <span class="stat-name">FPL</span>
                                <span class="stat-value">â˜…â˜…â˜†â˜†â˜†</span>
                            </div>
                        </div>
                        <div class="pokemon-ability">
                            <strong>Special Ability:</strong> Sudoku
                        </div>
                    </div>
                </div>
                
                <div class="pokemon-card bride-card">
                    <div class="card-header">
                        <h3>Ullis</h3>
                        <span class="hp">HP 100</span>
                    </div>
                    <div class="card-image">
                        <img src="images/ullis.jpg" alt="Ulrika">
                    </div>
                    <div class="card-description">
                        <p><em>"Mellansyster. "</em></p>
                    </div>
                    <div class="card-info">
                        <div class="pokemon-type">
                            <span class="type-badge bride-type">ðŸ’• Brud</span>
                        </div>
                        <div class="pokemon-stats">
                            <div class="stat">
                                <span class="stat-name">Fotarbete</span>
                                <span class="stat-value">â˜…â˜…â˜…â˜…â˜†</span>
                            </div>
                            <div class="stat">
                                <span class="stat-name">Tidsoptimist</span>
                                <span class="stat-value">â˜…â˜…â˜…â˜…â˜…</span>
                            </div>
                            <div class="stat">
                                <span class="stat-name">Svara pÃ¥ sms</span>
                                <span class="stat-value">â˜…â˜†â˜†â˜†â˜†</span>
                            </div>
                        </div>
                        <div class="pokemon-ability">
                            <strong>Special Ability:</strong>VÃ¤lja GIFs i Slack
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="gallery">
        <div class="container">
            <h2>Galleri</h2>
            <div class="gallery-carousel">
                <button class="carousel-nav prev" onclick="scrollGallery('left')" id="prevBtn">â€¹</button>
                <div class="gallery-scroll" id="galleryScroll">
                    <!-- Images will be loaded dynamically -->
                </div>
                <button class="carousel-nav next" onclick="scrollGallery('right')" id="nextBtn">â€º</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Ulrika & Elias</p>
        </div>
    </footer>

    <script>
        // Test if JavaScript is working
        console.log('JavaScript is loading');
        
        // Mobile menu function
        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            if (navMenu) {
                navMenu.classList.toggle('show');
            }
        }
        
        // Optimized gallery loader with predefined image list
        function loadGalleryImages() {
            const galleryScroll = document.getElementById('galleryScroll');
            // Clear existing images first
            galleryScroll.innerHTML = '';
            
            // Pre-defined list of optimized images (90% smaller file sizes!)
            const imageFiles = [
                '1.jpg',
                '2.jpg', 
                '3.jpg',
                '4.jpg',
                '5.jpg',
                '6.jpg',
                '7.jpg',
                '8.jpg', 
                '9.jpg',
                '10.jpg',
                '11.jpg',
                '12.jpg',
                '14.jpg',
                '15.jpg',
                '16.jpg',
                '17.jpg',
                '18.jpg',
                '19.jpg',
                '20.jpg'
            ];
            
            // Create gallery items using optimized images
            imageFiles.forEach((filename, index) => {
                const imageUrl = `gallery/optimized/${filename}`;
                createGalleryItem(galleryScroll, imageUrl, index + 1);
            });
        }
        
        // Removed checkImageExists function - no longer needed with predefined image list
        
        // Helper function to create gallery item
        function createGalleryItem(container, imageSrc, imageNumber) {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            
            const imgElement = document.createElement('img');
            imgElement.src = imageSrc;
            imgElement.alt = `Galleri bild ${imageNumber}`;
            imgElement.loading = 'lazy';
            
            // Add click handler for lightbox
            imgElement.onclick = function() {
                openLightbox(this.src);
            };
            
            galleryItem.appendChild(imgElement);
            container.appendChild(galleryItem);
        }
        
        // Gallery scroll function
        function scrollGallery(direction) {
            const galleryScroll = document.getElementById('galleryScroll');
            const scrollAmount = 440; // Width of one image + gap (420px + 20px gap)
            
            if (direction === 'left') {
                galleryScroll.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            } else {
                galleryScroll.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            }
        }
        
        // Simple lightbox function
        function openLightbox(imageSrc) {
            const lightbox = document.createElement('div');
            lightbox.className = 'lightbox';
            lightbox.onclick = function() {
                document.body.removeChild(this);
            };
            
            const img = document.createElement('img');
            img.src = imageSrc;
            img.className = 'lightbox-image';
            
            lightbox.appendChild(img);
            document.body.appendChild(lightbox);
        }
        
        // Function to adjust iframe scrolling based on device
        function adjustFormScrolling() {
            const iframe = document.querySelector('#googleForm');
            const isMobile = window.innerWidth <= 768;
            
            if (iframe) {
                if (isMobile) {
                    iframe.setAttribute('scrolling', 'auto');
                    iframe.style.height = '1400px';
                } else {
                    iframe.setAttribute('scrolling', 'no');
                    iframe.style.height = '1200px';
                }
            }
        }
        
        // Also add event listener when DOM loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded');
            const mobileBtn = document.querySelector('.mobile-menu-btn');
            if (mobileBtn) {
                console.log('Mobile button found');
            } else {
                console.log('Mobile button NOT found');
            }
            
            // Adjust form scrolling on load
            adjustFormScrolling();
            
            // Load gallery images
            loadGalleryImages();
        });
        
        // Adjust form scrolling on window resize
        window.addEventListener('resize', adjustFormScrolling);
    </script>
</body>
</html>
